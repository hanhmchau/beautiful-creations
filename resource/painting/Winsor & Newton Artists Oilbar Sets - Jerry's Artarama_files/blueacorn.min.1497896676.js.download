function CreditCardStyle(options){this.init(options)}function BlueAcornForms(options){this.options=options||"",this.init()}function BlueAcornFooter(){this.init()}function GridSorter(options){this.init(options)}function BlueAcornHomepage(){this.init()}function BlueAcornInpageMenu(options){this.init(options)}function BlueAcornLessonVideoHelpers(){this.init()}function BlueAcornPdp(options){this.init(options)}function BlueAcornResponsiveNotation(){this.init()}function BlueAcornStyleGuide(){this.init()}function BlueAcornCategoryHelpers(){this.init()}function BlueAcornCheckoutHelper(){this.init()}function VideoTooltips(options){this.init(options)}function truncateLayeredNav(){this.init()}if(function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):factory("object"==typeof exports?require("jquery"):jQuery)}(function($){function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){0===s.indexOf('"')&&(s=s.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s=decodeURIComponent(s.replace(pluses," ")),config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var pluses=/\+/g,config=$.cookie=function(key,value,options){if(void 0!==value&&!$.isFunction(value)){if("number"==typeof(options=$.extend({},config.defaults,options)).expires){var days=options.expires,t=options.expires=new Date;t.setTime(+t+864e5*days)}return document.cookie=[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}for(var result=key?void 0:{},cookies=document.cookie?document.cookie.split("; "):[],i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("="),name=decode(parts.shift()),cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}key||void 0===(cookie=read(cookie))||(result[name]=cookie)}return result};config.defaults={},$.removeCookie=function(key,options){return void 0!==$.cookie(key)&&($.cookie(key,"",$.extend({},options,{expires:-1})),!$.cookie(key))}}),jQuery(document).ready(function($){$(["#discount-coupon-form",".shipping",".quick-shop-wrapper",".giftcard",".quick-o-cart"]).each(function(idx,el){var ele=$(el),clickEle=ele.find("h2");$(clickEle).on("click",function(){ele.toggleClass("cart-form-active")})})}),jQuery(document).ready(function($){enquire.register("(max-width: "+bp.medium+"px)",{match:function(){$(".right-extras .crosssell").detach().appendTo($(".bottom-crosssell")),$(".bottom-crosssell .crosssell ul").owlCarousel({margin:20,nav:!0,responsive:{0:{items:1,margin:8,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,stagePadding:35},1024:{margin:20,items:3,stagePadding:15}}})},unmatch:function(){}}),enquire.register("(min-width: "+bp.medium+"px)",{match:function(){$(".bottom-crosssell .crosssell").detach().appendTo($(".right-extras"))},unmatch:function(){}})}),void 0===ba)var ba={};jQuery(document).ready(function($){CreditCardStyle.prototype={init:function(options){this.settings={moduleName:"CreditCardStyle",creditCardTypeElement:"select.validate-cybsersource-cc-type-select",creditCardNumberElement:"input.validate-cc-number",creditCardFormElement:"#co-payment-form",creditCardCode:"",creditCardBank:"",creditCardTypes:[{ccname:"amex",pattern:/^3[4,7]/,valid_length:[15],ccCode:"AE"},{ccname:"visa",pattern:/^4/,valid_length:[16],ccCode:"VI"},{ccname:"mastercard",pattern:/^5[1-5]/,valid_length:[16],ccCode:"MC"},{ccname:"discover",pattern:/^(30[0-5]\d{13}|3095\d{12}|35(2[8-9]\d{12}|[3-8]\d{13})|36\d{12}|3[8-9]\d{14}|6011(0\d{11}|[2-4]\d{11}|74\d{10}|7[7-9]\d{10}|8[6-9]\d{10}|9\d{11}|11[0-9]{10})|62(2(12[6-9]\d{10}|1[3-9]\d{11}|[2-8]\d{12}|9[0-1]\d{11}|92[0-5]\d{10})|[4-6]\d{13}|8[2-8]\d{12})|6(4[4-9]\d{13}|5\d{14}))/,valid_length:[16],ccCode:"DI"}]},this.overrideSettings(options),!0===this.settings.debug&&this.setupDebugging(),this.setDefaultStyling(),this.setStylingObservers(),this.setValidationObservers(),this.setAcceptedPaymentMethodsElement(),this.setInputObserver(),this.setupResizeObserver()},setDefaultStyling:function(){var self=this,settings=self.settings,formUl=$(settings.creditCardTypeElement).closest("ul");settings.debug&&self.watchConsole("CreditCardStyle.setDefaults()"),$(settings.creditCardFormElement).addClass("credit-card-styles"),$(settings.creditCardTypeElement).closest("li").addClass("hidden"),formUl.addClass("credit-card"),self.addFormStyling(),0===$(".ie8").length&&$(settings.creditCardNumberElement).attr({placeholder:"0000 0000 0000 0000",type:"tel"}),self.updateMonthSelection()},setStylingObservers:function(){var self=this;self.settings;$(".credit-card-styles .sp-methods dt").on("click",function(evt){$(document).trigger("update:selects"),self.addFormStyling()})},addFormStyling:function(){var self=this,settings=self.settings,formUl=$(settings.creditCardTypeElement).closest("ul");$.each($(formUl),function(idx,formListElement){0===$(formListElement).find(".credit-card-front").length&&$(formListElement).prepend('<li class="credit-card-front"></li>'),0===$(formListElement).find(".credit-card-back").length&&$(formListElement).append('<li class="credit-card-back"></li>'),self.setAdditionalClasses(formListElement,"[id$=cc_owner]","li","credit-card-owner"),self.setAdditionalClasses(formListElement,".validate-cc-exp","li","credit-card-expiration"),self.setAdditionalClasses(formListElement,".month",".v-fix","credit-card-expiration-month"),self.setAdditionalClasses(formListElement,".year",".v-fix","credit-card-expiration-year"),self.setAdditionalClasses(formListElement,".cvv","li","credit-card-verification"),self.setAdditionalClasses(formListElement,".validate-cc-cvn","li","credit-card-verification"),self.setAdditionalClasses(formListElement,".validate-cc-number","li","credit-card-number")})},setAdditionalClasses:function(formListElement,findElement,parentElement,addClassName){0===$(formListElement).find("."+addClassName).length&&$(formListElement).find(findElement).first().parents(parentElement).first().addClass(addClassName)},updateMonthSelection:function(){var settings=this.settings,formUl=$(settings.creditCardTypeElement).closest("ul");$.each($(formUl),function(idx,formListElement){$.each($(formListElement).find(".month").first().children(),function(idx,monthOption){""!==$(this).attr("value")&&($(this).attr("value")<=9?$(this).text("0"+$(this).attr("value")):$(this).text($(this).attr("value")))})})},setAcceptedPaymentMethodsElement:function(){var self=this;self.settings.debug&&self.watchConsole("CreditCardStyle.setAcceptedPaymentMethodsElement()"),$.each($(self.settings.creditCardTypeElement),function(idx,cardTypeElement){if(!($(cardTypeElement).closest("ul").first().find(".cc-accepted-container").length>0)){var newLi=$("<li/>",{class:"cc-accepted-container"}),newUl=$("<ul/>",{class:"cc-accepted"});newLi.append($('<label class="cc-accepted-header">We Accept:</label>'));for(var i=0;i<cardTypeElement.options.length;i++){var cardClassName=cardTypeElement.options[i].value.toLowerCase();newUl.append($("<li/>",{class:cardClassName}))}newLi.append(newUl),$(cardTypeElement).closest("ul").append(newLi)}})},setInputObserver:function(){var self=this,settings=self.settings;settings.debug&&self.watchConsole("CreditCardStyle.setInputObserver()"),$.each($(settings.creditCardNumberElement),function(idx,creditCardNumberElement){$(creditCardNumberElement).on("keyup",function(evt){settings.creditCardBank=void 0,self.matchCardType(this.value),self.setCardType(evt.target.id)})})},matchCardType:function(inputValue){var self=this,settings=self.settings,creditCardTypes=settings.creditCardTypes;$.each(creditCardTypes,function(idx,ccObject){inputValue.match(ccObject.pattern)&&(settings.creditCardBank=creditCardTypes[idx],settings.debug&&(self.watchConsole("Matched Card Type:"),self.watchConsole(settings.creditCardBank.ccname)))}),""===settings.creditCardBank&&self.resetCard()},setCardType:function(id){var self=this,settings=self.settings,formElement=$("#"+id).closest("ul"),selectElement=formElement.find(settings.creditCardTypeElement),acceptedUl=formElement.find("cc-accepted");void 0!==settings.creditCardBank?self.setCardStyle(formElement,selectElement,acceptedUl):$.each(settings.creditCardTypes,function(idx,creditCardType){formElement.removeClass(creditCardType.ccname),acceptedUl.show()}),settings.debug&&self.watchConsole("CreditCardStyle.setCardType()")},setCardStyle:function(formElement,selectElement,acceptedUl){var self=this,settings=self.settings;$.each(settings.creditCardTypes,function(idx,creditCardType){formElement.removeClass(creditCardType.ccname),acceptedUl.show()});for(var optionsArray=[],i=0;i<selectElement[0].options.length;i++)optionsArray.push(selectElement[0].options[i].value);$.inArray(settings.creditCardBank.ccCode,optionsArray)>-1?(self.watchConsole("Set Value of Select to Bank Code 281"),selectElement.val(settings.creditCardBank.ccCode),formElement.addClass(settings.creditCardBank.ccname),acceptedUl.hide()):(self.watchConsole("Set Value of Select to Nothing 286"),selectElement.val(""),$.each(settings.creditCardTypes,function(idx,creditCardType){formElement.removeClass(creditCardType.ccname),acceptedUl.show()}))},setupResizeObserver:function(){enquire.register("(min-width: 770px)",{match:function(){$("html").hasClass("resp-credit-card")||$("html").hasClass("resp-credit-card")||$("html").addClass("resp-credit-card"),$(".credit-card").find(".cvv").first().parents("li").first().find("label").html("<em>*</em>CVV")},unmatch:function(){$("html").removeClass("resp-credit-card"),$(".credit-card").find(".cvv").first().parents("li").first().find("label").html("<em>*</em>Card Verification Number")}})},setValidationObservers:function(){var self=this,settings=self.settings;$.each($(settings.creditCardFormElement).find("input"),function(idx,inputElement){$(inputElement).on("blur",function(evt){self.showValidation()})}),$.each($(settings.creditCardFormElement).find("select"),function(idx,inputElement){$(inputElement).on("change",function(evt){self.showValidation()})})},showValidation:function(){$.each($(".credit-card"),function(idx,creditCardElement){1===$(creditCardElement).find(".validation-error").length?$(creditCardElement).find(".validation-error").addClass("show-validation-errors"):$(creditCardElement).find(".show-validation-errors").removeClass("show-validation-errors")})},overrideSettings:function(options){"object"==typeof options&&(this.settings=$.extend(this.settings,options))},setupDebugging:function(){this.watchConsole("Credit Card Styles Module Loaded!!!"),this.watchConsole(this.settings)},watchConsole:function(message){!0===this.settings.debug&&0===$(".ie8, .ie9").length&&console.log(message)}},mageConfig["creditcardstyle/configuration/enable_credit_card_styles"]&&$(".cms-credit-card-style").length>0&&(ba.CreditCardStyle=new CreditCardStyle({debug:!1})),mageConfig["creditcardstyle/configuration/enable_credit_card_styles"]&&$(".checkout-onepage-index").length>0&&$(document).on("section:payment",function(evt){ba.CreditCardStylePaymentForm=new CreditCardStyle({debug:!0})})});var baForms;jQuery(document).ready(function($){BlueAcornForms.prototype.init=function(){this.setupObserver()},BlueAcornForms.prototype.setupObserver=function(){var self=this;$(document).on("update:radios",this.customRadios.bind(this)),$(document).on("update:checkboxes",this.customCheckboxes.bind(this)),$(document).on("section:update",this.updateAll.bind(this)),$(document).on("update:inputs",this.updateAll.bind(this)),$(document).on("update:selects",function(){self.updateSelects(),self.updateShivs()}),$(window).on("resize",this.updateSelects.bind(this))},BlueAcornForms.prototype.updateAll=function(){this.customRadios(),this.customCheckboxes(),this.customSelects(),this.updateShivs()},BlueAcornForms.prototype.getLabel=function(el){var elementLabel;return $(el).siblings("label").length?elementLabel=$(el).siblings("label"):$(el).siblings("span.label").length?elementLabel=$(el).siblings("span.label"):$(el).parent().siblings("label").length?elementLabel=$(el).parent().siblings("label"):$(el).parent().siblings("span.label").length?elementLabel=$(el).parent().siblings("span.label"):$(el).parent("label").length?elementLabel=$(el).parent("label"):($(el).after('<label for="'+$(el).attr("id")+'"></label>'),elementLabel=$(el).siblings("label")),elementLabel},BlueAcornForms.prototype.getLabelType=function(el){var labelType="label";return($(el).siblings("span.label").length||$(el).parent().siblings("span.label").length)&&(labelType="span"),labelType},BlueAcornForms.prototype.resetLabels=function(el,type){$(el).removeClass(type+" disabled checked")},BlueAcornForms.prototype.setProperties=function(labelElement,labelInput,prop){$(labelInput).prop(prop)&&labelElement&&$(labelElement).addClass(prop)},BlueAcornForms.prototype.getLabelInput=function(labelType,labelElement){var labelFor,labelInput;return"label"===labelType?("-1"!=(labelFor=$(labelElement).attr("for")).indexOf(":")&&(labelFor=labelFor.replace(":","\\:")),labelInput=$("#"+labelFor+', input[name="'+labelFor+'"]')):labelInput=$(labelElement).siblings("input"),labelInput},BlueAcornForms.prototype.customRadios=function(){var radioElements;radioElements=this.options.radioElements?this.options.radioElements:$('input[type="radio"].radio'),$(radioElements).length>0&&$(radioElements).each(function(idx,el){var radioLabel,labelType;radioLabel=this.getLabel(el),labelType=this.getLabelType(el),this.resetLabels(radioLabel,"radio-label"),this.setProperties(radioLabel,el,"checked"),this.setProperties(radioLabel,el,"disabled"),radioLabel&&($(radioLabel).addClass("radio-label"),$(el).addClass("input-custom"),$(radioLabel).on("click",function(event){event.stopPropagation(),event.preventDefault();var labelRadio=$(event.target).closest(labelType),radioInput=this.getLabelInput(labelType,labelRadio),groupRadio=$(radioInput).attr("name");$(radioInput).prop("disabled")||(this.updateRadioGroup(groupRadio,labelType),$(radioInput).prop("checked",!0),$(labelRadio).addClass("checked")),$(radioInput).attr("onclick")&&$(radioInput).trigger("click")}.bind(this)))}.bind(this))},BlueAcornForms.prototype.updateRadioGroup=function(group,labelType){$('input[name="'+group+'"]').each(function(idx,el){$(el).prop("checked",!1),$(el).siblings(labelType).removeClass("checked"),$(el).parent("label").length>0&&$(el).parent("label").removeClass("checked")})},BlueAcornForms.prototype.customCheckboxes=function(){var checkboxElements;checkboxElements=this.options.checkboxElements?this.options.checkboxElements:$('input[type="checkbox"].checkbox'),$(checkboxElements).length>0&&$(checkboxElements).each(function(idx,el){var checkboxLabel,labelType;checkboxLabel=this.getLabel(el),labelType=this.getLabelType(el),this.resetLabels(checkboxLabel,"checkbox-label"),this.setProperties(checkboxLabel,el,"checked"),this.setProperties(checkboxLabel,el,"disabled"),checkboxLabel&&($(checkboxLabel).addClass("checkbox-label"),$(el).addClass("input-custom"),$(checkboxLabel).off("click").on("click",function(event){event.stopPropagation(),event.preventDefault();var labelCheckbox=$(event.target).closest(labelType),checkboxInput=this.getLabelInput(labelType,labelCheckbox);$(checkboxInput).prop("checked")?($(labelCheckbox).removeClass("checked"),$(checkboxInput).prop("checked",!1)):($(labelCheckbox).addClass("checked"),$(checkboxInput).prop("checked",!0)),$(checkboxInput).attr("onclick")&&$(checkboxInput)[0].onclick.apply($(checkboxInput)[0])}.bind(this)))}.bind(this))},BlueAcornForms.prototype.customSelectsBefore=function(){var smallSelects=$("#select-language, .review-heading .pager select, .review-customer-index .pager select");$(smallSelects).addClass("sm")},BlueAcornForms.prototype.updateSpecificSelect=function(element){$(element).length>0&&$(element).each(function(idx,el){var selectTitle,selectedOptions;if($(el).attr("title")&&(selectTitle=$(el).attr("title").strip().truncate(36)),$(el).addClass("select-custom").data("truncate",36),!($(el).prev().length>0)||$(el).parent().hasClass("input-box")&&$(el).parent().hasClass("v-fix")||$(el).wrap('<div class="input-box"></div>'),$(el).parent().addClass("select-container"),$(el).prop("disabled")?$(el).parent().addClass("disabled"):$(el).parent().removeClass("disabled"),$(el).hasClass("sm")&&$(el).parent().addClass("small"),selectTitle=$(el).children().first().html().strip().truncate(36),(selectedOptions=$(el).children("option:selected").text()).length>0&&(selectTitle=selectedOptions.strip().truncate(36)),0===$(el).siblings(".custom-shiv").length){$(el).before('<span class="custom-shiv">'+selectTitle+"<span></span></span>")}$(el).on("change",this.updateShivs.bind(this)),$(el).on("mouseover",function(){$(el).siblings(".custom-shiv").addClass("hover")}),$(el).on("mouseout",function(){$(el).siblings(".custom-shiv").removeClass("hover")}),this.updateSelects()}.bind(this))},BlueAcornForms.prototype.customSelects=function(){this.customSelectsBefore();var selectElements,selectTruncate;selectElements=this.options.selectElements?this.options.selectElements:$("select"),selectTruncate=this.options.selectTruncate?this.options.selectTruncate:36,$(selectElements).length>0&&$(selectElements).each(function(idx,el){var selectTitle,selectedOptions;if(!($(el).parent(".select-container").length>0||$(el).prop("multiple"))){if($(el).attr("title")&&(selectTitle=$(el).attr("title").strip().truncate(selectTruncate)),$(el).addClass("select-custom").data("truncate",selectTruncate),!($(el).prev().length>0)||$(el).parent().hasClass("input-box")&&$(el).parent().hasClass("v-fix")||$(el).wrap('<div class="input-box"></div>'),$(el).parent().addClass("select-container"),$(el).prop("disabled")?$(el).parent().addClass("disabled"):$(el).parent().removeClass("disabled"),$(el).hasClass("sm")&&$(el).parent().addClass("small"),selectTitle=$(el).children().first().html().strip().truncate(selectTruncate),(selectedOptions=$(el).children("option:selected").text()).length>0&&(selectTitle=selectedOptions.strip().truncate(selectTruncate)),0===$(el).siblings(".custom-shiv").length){$(el).before('<span class="custom-shiv">'+selectTitle+"<span></span></span>")}$(el).on("change",this.updateShivs.bind(this)),$(el).on("mouseover",function(){$(el).siblings(".custom-shiv").addClass("hover")}),$(el).on("mouseout",function(){$(el).siblings(".custom-shiv").removeClass("hover")}),this.updateSelects()}}.bind(this))},BlueAcornForms.prototype.updateShivs=function(){var selectShivs=$(".custom-shiv");$(selectShivs).each(function(){var selectElement,optionValue,truncateOption;selectElement=$(this).siblings("select"),optionValue=$(selectElement).children("option:selected").text(),truncateOption=$(selectElement).data("truncate"),$(this).html(optionValue.strip().truncate(truncateOption)+"<span></span>")})},BlueAcornForms.prototype.updateSelects=function(){var selectShivs=$(".custom-shiv");$(selectShivs).each(function(){"none"===$(this).siblings("select").css("display")?$(this).css("display","none"):$(this).css("display",""),$(this).parent(".select-container").removeClass("disabled"),$(this).siblings("select").prop("disabled")&&$(this).parent(".select-container").addClass("disabled")})},(baForms=new BlueAcornForms({})).customRadios(),baForms.customCheckboxes(),baForms.customSelects()}),function($,window,document,undefined){function BlueAcornDestroyCaroursel(element,options){this.element=element,this.defaults={debug:!1,success:!1,resizeTimer:0},this.init(options)}var pluginName="destroyOwlCarousel";BlueAcornDestroyCaroursel.prototype={init:function(options){this.overrideDefaults(options),this.destroyOwlCarousel(),!0===this.options.debug&&this.setupDebugging()},destroyOwlCarousel:function(){var element=$(this.element);if(element.hasClass("owl-carousel")){var itemWrapper=element.find(".owl-stage");element.removeClass("owl-carousel").removeClass("owl-theme").removeClass("owl-loaded").removeData("owlCarousel"),$.each(itemWrapper.children(".owl-item").children(),function(index,ele){}),element.children(".owl-stage-outer").remove(),element.children(".owl-controls").remove()}},overrideDefaults:function(options){this.options=$.extend({},this.defaults,options)},setupDebugging:function(){this.watchConsole("Plugin "+pluginName+" started!"),this.watchConsole(this)},watchConsole:function(message){!0===this.options.debug&&0===$(".ie8, .ie9").length&&console.log(message)}},$.fn[pluginName]=function(options){return this.each(function(){$.data(this,"plugin_"+pluginName)||$.data(this,"plugin_"+pluginName,new BlueAcornDestroyCaroursel(this,options))})}}(jQuery,window,document);var baFooter;jQuery(document).ready(function($){BlueAcornFooter.prototype={init:function(){this.debug=!1,this.blocks=$(".footer-bottom .block"),this.h4=$(".footer .block h4"),this.ul=$(".footer .block ul"),this.initObservers();var self=this;$(window).on("orientationchange",function(){self.initObservers()}).on("long-delayed-resize",function(){self.initObservers()}),$(".ZenboxTabLeft").on("click",function(){enquire.register("(max-width: 630px)",{match:function(){$("#zenbox_container").width("100%"),$("#zenbox_body").width("100%")},unmatch:function(){$("#zenbox_container").width("638px"),$("#zenbox_body").width("618px")}})})},initObservers:function(){var self=this;enquire.register("(max-width: "+bp.medium+"px)",{match:function(){self.resetBlocks(),self.observeFooterClick(),self.activateFirstBlock()},unmatch:function(){self.showAllBlocks()}})},resetBlocks:function(){var self=this;this.blocks.each(function(){self.deactivateBlock($(this))})},observeFooterClick:function(){var self=this;this.h4.off("click"),this.h4.on("click",function(){var parentBlock=$(this).parent(".block");parentBlock.hasClass("active")?self.deactivateBlock(parentBlock):self.activateBlock(parentBlock)}),this.h4.on("click",function(){})},activateBlock:function(ele){ele.addClass("active"),ele.find("ul").slideDown()},showAllBlocks:function(){this.blocks.children("ul").show(),this.h4.unbind("click")},activateFirstBlock:function(){this.activateBlock(this.blocks.first())},deactivateBlock:function(ele){ele.removeClass("active"),ele.find("ul").slideUp()}},baFooter=new BlueAcornFooter}),jQuery(document).ready(function($){if(GridSorter.prototype={init:function(options){this.settings={debug:!1,grid:$("#products-grid")},this.overrideSettings(options),this.setupSorter(),!0===this.settings.debug&&this.setupDebugging()},setupSorter:function(){var self=this,grid=this.settings.grid,gridHeaderCells=grid.children(".row.header").children(".cell"),gridHeaderSortableCells=gridHeaderCells.filter(".sortable"),gridHeaderRows=grid.children(".row.data").get(),gridDataCells=grid.children(".row.data").children(".cell");gridHeaderSortableCells.on("mousedown touchstart",function(e){e.preventDefault();var colIndex,sortOrder,_target=e.target,_sortTarget=_target.textContent;"SPAN"===_target.tagName&&(_target=_target.parentNode),self.watchConsole("You have clicked: "+_sortTarget),"row"!==_sortTarget&&(colIndex=Array.prototype.indexOf.call(gridHeaderCells,_target),self.watchConsole("column index is: "+colIndex),sortOrder="asc"===$(this).attr("data-order")?"desc":"asc",$(this).attr("data-order",sortOrder),self.watchConsole("Sort order is: "+sortOrder),tinysort(gridHeaderRows,{selector:".cell:nth-child("+(colIndex+1)+")",order:sortOrder}),gridDataCells.removeClass("sort-animate"),gridDataCells.hasClass("sort-animate")||$(".cell:nth-child("+(colIndex+1)+")").addClass("sort-animate"))})},overrideSettings:function(options){"object"==typeof options&&(this.settings=$.extend(this.settings,options))},setupDebugging:function(){this.watchConsole("Grid Sorter loaded!!"),this.watchConsole(this.settings)},watchConsole:function(message){!0===this.settings.debug&&0===$(".ie8, .ie9").length&&console.log(message)}},$("body").hasClass("catalog-product-view"))new GridSorter}),jQuery(document).ready(function($){BlueAcornHomepage.prototype={init:function(){this.initObservers(),this.triggerTopBanner(),this.swapSavingsLinks()},initObservers:function(){$(document).on("trigger:mobile:home-tab-a trigger:home-tab-a",this.triggerOwlCarousela.bind(this)),$(document).on("trigger:mobile:home-tab-b trigger:home-tab-b",this.triggerOwlCarouselb.bind(this)),$(document).on("trigger:mobile:home-tab-c trigger:home-tab-c",this.triggerOwlCarouselc.bind(this)),$(document).on("trigger:mobile:home-tab-d trigger:home-tab-d",this.triggerOwlCarouseld.bind(this)),$(document).on("trigger:mobile:home-tab-e trigger:home-tab-e",this.triggerOwlCarousele.bind(this)),$(document).on("trigger:mobile:home-tab-f trigger:home-tab-f",this.triggerOwlCarouself.bind(this))},triggerTopBanner:function(){var self=this;setTimeout(function(){self.BannerCarousel=$(".R1-banner ul").owlCarousel({margin:18,nav:!0,items:1,autoplay:3e3,loop:!0}),self.BannerCarousel.owlCarousel()},0)},swapSavingsLinks:function(){var $wrapper=$(".home-savings-wrapper .content-right");enquire.register("(max-width: "+bp.medium+"px)",{match:function(){$wrapper.children(".sc-jerry-brands").remove().clone().insertAfter(".sc-artist-specials")},unmatch:function(){$wrapper.children(".sc-jerry-brands").remove().clone().insertAfter(".sc-clearance")}})},destroyAllTabs:function(tab){$("html.resp-mobile").length||($('[class*="home-tab-"] .products-grid').hide(),$('[class*="home-tab-"] .top-sellers').hide(),$(document).trigger("resize"),$(tab+" .top-sellers").fadeIn("slow"),$(tab+" .products-grid").fadeIn("slow"))},resizeCallback:function(){},triggerOwlCarousela:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-a"),self.carousel=$(".home-tab-a .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:30,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,stagePadding:35,margin:35},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel(),self.carousel.trigger("resize.owl.carousel")},0)},triggerOwlCarouselb:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-b"),self.carousel=$(".home-tab-b .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:8,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,stagePadding:35,margin:35},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel()},0)},triggerOwlCarouselc:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-c"),self.carousel=$(".home-tab-c .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:30,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,margin:35,nav:!0,stagePadding:35},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel()},0)},triggerOwlCarouseld:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-d"),self.carousel=$(".home-tab-d .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:30,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,stagePadding:35,margin:35},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel()},0)},triggerOwlCarousele:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-e"),self.carousel=$(".home-tab-e .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:30,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,stagePadding:35,margin:35},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel()},0)},triggerOwlCarouself:function(){var self=this;setTimeout(function(){self.destroyAllTabs(".home-tab-f"),self.carousel=$(".home-tab-f .products-grid").owlCarousel({margin:18,nav:!0,loop:!0,responsive:{0:{items:1,margin:30,nav:!1,center:!0,stagePadding:15,loop:!0},460:{items:2,margin:18,center:!1},768:{items:3,nav:!0,margin:35,margin:30},1024:{margin:20,items:3,stagePadding:15}}}),self.carousel.owlCarousel()},0)}}}),jQuery(document).ready(function($){BlueAcornInpageMenu.prototype={init:function(options){this.settings={debug:!1,wrapperID:$("#inpage-menu"),navID:$("#inpage-menu ul.tabs"),contentID:$("#inpage-menu .inpage-menu-content"),mobileWrapperID:$("#inpage-menu-mobile"),mobileBp:bp.medium},this.overrideSettings(options),this.initObservers(),this.registerEnquire(),!0===this.settings.debug&&this.setupDebugging()},overrideSettings:function(options){"object"==typeof options&&(this.settings=$.extend(this.settings,options))},initObservers:function(){var self=this;$(document).on("inpage:click",this.clickTabEvent.bind(this)),this.settings.navID.find("a").on("click",function(e){e.preventDefault(),$(document).trigger("inpage:click",[$(this)])}),$(".product-essential").find(".rating-links").on("click",function(e){e.preventDefault(),e.stopPropagation(),self.showHideElement("product-reviews")})},clickTabEvent:function(e,attr){e.preventDefault(),e.stopPropagation();var self=this,childAtty=self.grabChildAttribute(attr.parent());self.settings.navID.children("li").removeClass("active-tab"),attr.parent().addClass("active-tab"),$(document).trigger("trigger:"+childAtty),self.watchConsole(childAtty+" clicked"),self.showHideElement(childAtty)},removeMobileTab:function(element){var ul=this.settings.mobileWrapperID.children("ul");if(element instanceof Array)for(var i=0;i<element.length;i++)ul.children('li[data-child="'+element[i]+'"]').remove();else ul.children('li[data-child="'+element+'"]').remove()},showHideElement:function(ele){var zoomContainer=$(".zoomContainer");this.settings.contentID.children().each(function(index){$(this).removeClass("active-tab"),$(this).hasClass(ele)&&$("."+ele).addClass("active-tab")}),"product-essential"==ele?zoomContainer.show():zoomContainer.hide()},moveTabsToLocation:function(hideShow){var currentChild,currentChildHtml,self=this;if(!0===hideShow){var navIDMarkup=this.settings.navID.clone();this.settings.mobileWrapperID.children(".tabs");this.settings.mobileWrapperID.prepend(navIDMarkup),this.settings.navID.children("li").each(function(index){currentChild=self.grabChildAttribute($(this)),currentChildHtml=$("."+currentChild).clone().addClass("accord-content"),$('#inpage-menu-mobile li[data-child="'+currentChild+'"]').append(currentChildHtml)})}else this.settings.mobileWrapperID.empty()},mobileTabClick:function(){var self=this,mobileNavId=this.settings.mobileWrapperID.children(".tabs");mobileNavId.children("li").removeClass("active-tab"),mobileNavId.children("li").on("click",function(e){if($j(e.target).is("[data-child]")||$j(e.target).is("a")&&!$j(e.target).hasClass("bv-write-review-label")){e.preventDefault(),e.stopPropagation(),$(this).toggleClass("active-tab");var childAtty=self.grabChildAttribute($(this));$(document).trigger("trigger:mobile:"+childAtty),self.watchConsole(childAtty+" clicked")}})},moveReviewTabClick:function(hideShow){var currentChild,currentChildHtml;$(document).one("touchstart",'#inpage-menu-mobile li[data-child="product-reviews"]',function(e){($j(e.target).is("[data-child]")||$j(e.target).is("a")&&!$j(e.target).hasClass("bv-write-review-label"))&&(e.preventDefault(),e.stopPropagation(),$(this).toggleClass("active-tab"),currentChild="product-reviews",currentChildHtml=+[0].outerHTML,$j('#inpage-menu-mobile li[data-child="'+currentChild+'"]').html(""),$j('#inpage-menu-mobile li[data-child="'+currentChild+'"]').append('<a href="#">Reviews</a>'),$j('#inpage-menu-mobile li[data-child="'+currentChild+'"]').append($(".inpage-menu-content .product-reviews")),$(document).trigger("trigger:mobile:"+currentChild))})},registerEnquire:function(){var self=this;enquire.register("(max-width: "+this.settings.mobileBp+"px)",{match:function(){self.moveReviewTabClick(),self.moveTabsToLocation(!0),self.mobileTabClick(),self.watchConsole("Breakpoint match")},unmatch:function(){self.moveTabsToLocation(!1),self.watchConsole("Breakpoint unmatch")}})},grabChildAttribute:function(ele){return ele.data("child")},setupDebugging:function(){this.watchConsole("InPage Tabs Module Loaded"),this.watchConsole(this.settings)},watchConsole:function(message){!0===this.settings.debug&&0===$(".ie8, .ie9").length&&console.log(message)}}});var baLessonVideoHelpers,resizeEvent;jQuery(document).ready(function($){BlueAcornLessonVideoHelpers.prototype={init:function(){this.debug=!1,this.initDvdCarousel(),this.initShopCatsLink(),this.initObservers()},initObservers:function(){var self=this;$(document).on("trigger:mobile:video-tab-b",this.initRelatedVidsCarousel.bind(self)),$(document).on("trigger:mobile:video-tab-c",this.initArtistCarousel.bind(self))},initRelatedVidsCarousel:function(){$("#inpage-menu-mobile .video-tab-b .videos-list-container").owlCarousel({items:1,margin:10,stagePadding:19})},initArtistCarousel:function(){$("#inpage-menu-mobile .video-tab-c .videos-list-container").owlCarousel({items:1,margin:10,stagePadding:19})},initDvdCarousel:function(){$(".category-lesson-videos .products-grid").owlCarousel({margin:50,nav:!0,loop:!0,responsive:{0:{items:1,margin:8,nav:!1,center:!0,stagePadding:18,loop:!0},460:{items:2,margin:19,center:!1},768:{items:3,nav:!0,stagePadding:35},1024:{margin:20,items:3,stagePadding:15}}})},initShopCatsLink:function(){$(function(){$(".shop-cats a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var target=$(this.hash);if((target=target.length?target:$("[name="+this.hash.slice(1)+"]")).length)return $("html,body").animate({scrollTop:target.offset().top},1e3),!1}})})}},baLessonVideoHelpers=new BlueAcornLessonVideoHelpers}),Event.observe(window,"load",function(){"undefined"!=typeof Product&&void 0!==Product.Config&&(Product.Config.prototype.resetChildren=Product.Config.prototype.resetChildren.wrap(function(parentFunction,element){parentFunction(element),jQuery(document).trigger("update:selects")}),Product.Config.prototype.configureForValues=Product.Config.prototype.configureForValues.wrap(function(parentFunction){parentFunction(),this.settings.each(function(element){jQuery(element).on("change",this.configure.bind(this))}.bind(this))}),Product.Config.prototype.configureElement=Product.Config.prototype.configureElement.wrap(function(parentFunction,element){parentFunction(element),jQuery(document).trigger("update:selects")})),"undefined"!=typeof Product&&void 0!==Product.Bundle&&(Product.Bundle.prototype.changeSelection=Product.Bundle.prototype.changeSelection.wrap(function(parentFunction,selection){parentFunction(selection),jQuery(document).trigger("update:inputs")})),$$(".catalog-product-view").length>0&&"undefined"!=typeof Enterprise&&void 0!==Enterprise.Bundle&&(Enterprise.Bundle.selection=Enterprise.Bundle.selection.wrap(function(parentFunction,optionId,selectionId){parentFunction(optionId,selectionId),jQuery(document).trigger("update:inputs")})),"undefined"!=typeof Validation&&(Validation.prototype.initialize=Validation.prototype.initialize.wrap(function(parentFunction,form,options){parentFunction(form,options),this.options.immediate&&Form.getElements(this.form).each(function(input){"select"==input.tagName.toLowerCase()&&jQuery(input).on("custom:blur",Validation.validate(this))},this)})),"undefined"!=typeof Checkout&&(Checkout.prototype.gotoSection=Checkout.prototype.gotoSection.wrap(function(parentFunction,section,reloadProgressBlock){parentFunction(section,reloadProgressBlock),"shipping_method"===this.currentStep&&window.setTimeout(function(){jQuery(document).trigger("section:update")},2e3),"payment"===section&&window.setTimeout(function(){jQuery(".pm-icons").length},100),"billing"===section&&window.setTimeout(function(){jQuery('li.control label[for="is_subscribed"]').click(function(idx){BA_GAQ.trackingHelper("event","Checkout","Sign Up For Email",null)})},100),jQuery(document).trigger("section:update"),jQuery(document).trigger("section:"+section)})),"undefined"!=typeof payment&&jQuery('label[for="use_customer_balance"]').on("click",function(){payment.switchCustomerBalanceCheckbox()}),"undefined"!=typeof Shipping&&(Shipping.prototype.syncWithBilling=Shipping.prototype.syncWithBilling.wrap(function(parentFunction){parentFunction(),jQuery(document).trigger("update:selects")}),Shipping.prototype.nextStep=Shipping.prototype.nextStep.wrap(function(parentFunction,transport){parentFunction(transport),jQuery(document).trigger("section:update")})),"undefined"!=typeof shipping&&(shipping.setSameAsBilling=shipping.setSameAsBilling.wrap(function(parentFunction,flag){parentFunction(flag),jQuery(document).trigger("update:selects")}),shipping.syncWithBilling=shipping.syncWithBilling.wrap(function(parentFunction){parentFunction(),jQuery(document).trigger("update:selects")})),"undefined"!=typeof Billing&&(Billing.prototype.nextStep=Billing.prototype.nextStep.wrap(function(parentFunction,transport){parentFunction(transport),jQuery(document).trigger("section:update")})),"undefined"!=typeof ShippingMethod&&(ShippingMethod.prototype.nextStep=ShippingMethod.prototype.nextStep.wrap(function(parentFunction,transport){parentFunction(transport),jQuery(document).trigger("section:update")})),$$(".related-checkbox").length>0&&jQuery.each(jQuery(".related-checkbox"),function(idx,el){0===jQuery(el).siblings("label, span.label").length&&(jQuery(el).after('<label for="'+jQuery(el).attr("name")+'"></label>'),baForms.customCheckboxes())}),"undefined"!=typeof ProductMediaManager&&(ProductMediaManager.createZoom=ProductMediaManager.createZoom.wrap(function(parentFunction,image){$$(".catalog-product-view").length&&parentFunction(image)}))}.bind(window)),jQuery,"undefined"!=typeof RegionUpdater&&(RegionUpdater.prototype.update=RegionUpdater.prototype.update.wrap(function(parentFunction){parentFunction(),jQuery(document).trigger("update:selects")})),jQuery(document).ready(function($){BlueAcornPdp.prototype={init:function(options){this.settings={debug:!1,productImagesWrapper:$(".product-images"),owlImgTabWrapper:$(".image-tab"),productsGridWrapper:$("#products-grid"),mobileBp:bp.medium,videoContentWrapper:$(".video-player-wrapper"),videoThumbWrapper:$(".video-thumbnails")},this.overrideSettings(options),this.initObservers(),this.reviewClickGoToTab(),this.registerEnquire(),this.fixGiftCardDate(),this.videoClickGoToTab(),this.imgClickGoToTab(),this.descriptionBtnClickGoToTab(),this.tieredPriceModal(),this.newsletterScroll(),!0===this.settings.debug&&this.setupDebugging()},overrideSettings:function(options){"object"==typeof options&&(this.settings=$.extend(this.settings,options))},initObservers:function(){$(document).on("trigger:product-images",this.triggerImageTab.bind(this)),$(document).on("trigger:product-videos",this.triggerVideosTab.bind(this)),$(document).on("trigger:mobile:product-videos",this.videoFixMobileAccordion.bind(this))},fixGiftCardDate:function(){void 0!==baForms&&($("body.catalog-product-view .datetime-picker").siblings(".custom-shiv").remove(),baForms.updateSpecificSelect(".datetime-picker"))},triggerImageTab:function(){var self=this;setTimeout(function(){var owl=$(".image-container").owlCarousel({items:1,center:!0,callbacks:!0,nav:!0,onChanged:function(){self.setCorrectImgThumb()}});owl.owlCarousel(),self.clickImgThumb(owl)},0)},registerEnquire:function(){var self=this;enquire.register("(max-width: "+this.settings.mobileBp+"px)",{match:function(){self.currentOwl=$(".product-image-gallery").owlCarousel({items:1,callbacks:!0,margin:10,stagePadding:20}),self.fixProductGrid("show"),$(".add-to-cart").find("label").html("QTY")},unmatch:function(){self.currentOwl&&(self.currentOwl.trigger("destroy.owl.carousel"),delete self.currentOwl),self.fixProductGrid("hide"),$(".add-to-cart").find("label").html("QUANTITY")}})},fixProductGrid:function(hideShow){var wrapper=this.settings.productsGridWrapper;"show"===hideShow?(wrapper.children(".header").append('<span class="new-header">Product Listing</span>'),wrapper.children(".row").find("button").children().children().html("Add To Cart")):(wrapper.find(".new-header").remove(),wrapper.children(".row").find("button").children().children().html("Add"))},setCorrectImgThumb:function(){var self=this;setTimeout(function(){var currentSlide=self.settings.owlImgTabWrapper.find(".owl-item.active");if(currentSlide.length){var currentImageIndex=currentSlide.children(".item").children("img").attr("id").match(/\d+/);self.settings.productImagesWrapper.find(".product-image-thumbs").children("li").each(function(index){$(this).children("a").removeClass("thumb-active")}),$('a[data-image-index="'+currentImageIndex+'"]').addClass("thumb-active")}},0)},clickImgThumb:function(owl){this.settings.productImagesWrapper.find(".product-image-thumbs").children("li").click(function(){var imgIndex=$(this).children("a").data("image-index");owl.trigger("to.owl.carousel",imgIndex)})},reviewClickGoToTab:function(){var reviewTab=$('li[data-child="product-reviews"]').children("a");$(".rating-links a").click(function(e){e.preventDefault(),$(document).trigger("inpage:click",[reviewTab])}),$(".no-touch .bv-review-summary-top .bv-focusable").click(function(e){e.preventDefault(),$(document).trigger("inpage:click",[reviewTab])})},videoClickGoToTab:function(){var videoTab=$('li[data-child="product-videos"]').children("a");$(".videos-link").on("click",function(e){e.preventDefault(),$(document).trigger("inpage:click",[videoTab])})},imgClickGoToTab:function(){var imgTab=$('li[data-child="product-images"]').children("a");$(".img-link").on("click",function(e){e.preventDefault(),$(document).trigger("inpage:click",[imgTab])})},descriptionBtnClickGoToTab:function(){var descTab=$('li[data-child="product-description"]').children("a");$(".short-description .read-more-link").on("click",function(e){e.preventDefault(),$(document).trigger("inpage:click",[descTab])})},videoFixMobileAccordion:function(){setTimeout(function(){$(".video-player-wrapper").owlCarousel({items:1,callbacks:!0,stagePadding:19,margin:10}).owlCarousel()},0)},triggerVideosTab:function(){var self=this;this.settings.videoThumbWrapper.children("li").on("click",function(){var currentVideo=$(this).attr("class").split(" ")[0];self.watchConsole(currentVideo),self.settings.videoContentWrapper.children("li").removeClass("active"),self.settings.videoThumbWrapper.children("li").removeClass("thumb-active"),self.settings.videoContentWrapper.children("."+currentVideo).addClass("active"),self.settings.videoThumbWrapper.children("."+currentVideo).addClass("thumb-active")})},grabChildAttribute:function(ele){return ele.data("child")},tieredPriceModal:function(){$("#products-grid").on("click",".bulk-price-link",function(){$(this).parent(".bulk-price-wrap").toggleClass("show")}),$(document).mouseup(function(e){var container=$(".bulk-price-wrap");container.is(e.target)||0!==container.has(e.target).length||(container.removeClass("show"),$(document).off(".bulk-price-wrap"))})},newsletterScroll:function(){$("a.email-sign-up").on("mousedown touchstart",function(){$("html, body").animate({scrollTop:$(".footer-subscribe-form #newsletter-validate-detail").offset().top},1e3)})},setupDebugging:function(){this.watchConsole("Custom Product Display Module Loaded"),this.watchConsole(this.settings)},watchConsole:function(message){!0===this.settings.debug&&0===$(".ie8, .ie9").length&&console.log(message)}}}),jQuery(document).ready(function($){var $that=$(".product-badges li").children(".icon").children(".tooltip");$(".product-badges li").on("click",function(){$that.toggleClass("active")}),$(".product-badges li").on("mouseleave blur",function(e){setTimeout(function(){$that.removeClass("active")},1e3)})});var qtyHandler=function(){this.init()};jQuery(document).ready(function($){qtyHandler.prototype={init:function(){this.minus=$(".qty-minus"),this.plus=$(".qty-plus"),this.input=this.plus.siblings("input.input-text.qty"),this.minQty=0,this.initObservers()},initObservers:function(){var newQty,timeout,interval,__=this;this.minus.click(function(e){e.preventDefault()}),this.plus.click(function(e){e.preventDefault()}),this.minus.on("mousedown touchstart",function(e){e.preventDefault(),2!==e.which&&3!==e.which&&(newQty=parseInt($(this).siblings("input.input-text.qty").val())>__.minQty?parseInt($(this).siblings("input.input-text.qty").val())-1:__.minQty,$(this).siblings("input.input-text.qty").val(newQty),timeout=setTimeout(function(){interval=setInterval(function(){newQty=parseInt($(this).siblings("input.input-text.qty").val())>__.minQty?parseInt($(this).siblings("input.input-text.qty").val())-1:__.minQty,$(this).siblings("input.input-text.qty").val(newQty)},100)},500))}).on("mouseup touchend",function(e){e.preventDefault(),clearTimeout(timeout),clearInterval(interval)}),this.plus.on("mousedown touchstart",function(e){e.preventDefault(),2!==e.which&&3!==e.which&&($(this).siblings("input.input-text.qty").val(parseInt($(this).siblings("input.input-text.qty").val())+1),timeout=setTimeout(function(){interval=setInterval(function(){$(this).siblings("input.input-text.qty").val(parseInt($(this).siblings("input.input-text.qty").val())+1)},100)},500))}).on("mouseup touchend",function(e){e.preventDefault(),clearTimeout(timeout),clearInterval(interval)})}};new qtyHandler});var baResponsiveNote;jQuery(document).ready(function($){BlueAcornResponsiveNotation.prototype.init=function(){this.viewport=$("html"),this.mobileClass="resp-mobile",this.mobileSmallClass="resp-small",this.tabletClass="resp-tablet",this.desktopClass="resp-desktop",this.desktopLargeClass="resp-large",this.tabletClass="resp-tablet",this.phoneClass="resp-phone",this.mobileSmallBreakpoint=479,this.mobileBreakpoint=599,this.tabletBreakpoint=770,this.desktopBreakpoint=970,this.desktopLargeBreakpoint=1199,this.initializeViewportSize(),this.observeResize(),$(document).trigger("rnote:loaded")},BlueAcornResponsiveNotation.prototype.getViewport=function(){var e=window,a="inner";return"innerWidth"in window||(a="client",e=document.documentElement||document.body),{width:e[a+"Width"],height:e[a+"Height"]}},BlueAcornResponsiveNotation.prototype.initializeViewportSize=function(){var viewportWidth=this.getViewport();this.setViewportClass(viewportWidth.width),this.setViewportCookie(viewportWidth.width),$(document).trigger("rnote:updated")},BlueAcornResponsiveNotation.prototype.observeResize=function(){$(window).resize(function(){this.initializeViewportSize()}.bind(this))},BlueAcornResponsiveNotation.prototype.setViewportClass=function(viewportWidth){viewportWidth>=this.desktopBreakpoint?(this.newClassName=this.desktopClass,viewportWidth>=this.desktopLargeBreakpoint&&(this.newClassName=this.desktopClass+" "+this.desktopLargeClass)):viewportWidth>=this.tabletBreakpoint?this.newClassName=this.tabletClass:(this.newClassName=this.mobileClass,this.viewportWidth<=this.mobileSmallBreakpoint&&(this.newClassName=this.mobileClass+" "+this.mobileSmallClass)),this.removeResponsiveClass(),this.viewport.addClass(this.newClassName)},BlueAcornResponsiveNotation.prototype.setViewportCookie=function(viewportWidth){viewportWidth>=this.desktopBreakpoint?(this.newCookieValue=this.desktopClass,viewportWidth>=this.desktopLargeBreakpoint&&(this.newCookieValue=this.desktopLargeClass)):viewportWidth>=this.tabletBreakpoint?this.newCookieValue=this.tabletClass:(this.newCookieValue=this.mobileClass,this.viewportWidth<=this.mobileSmallBreakpoint&&(this.newCookieValue=this.mobileSmallClass)),$.removeCookie("rNote",{path:"/"}),$.cookie("rNote",this.newCookieValue,{expires:7,path:"/"})},BlueAcornResponsiveNotation.prototype.removeResponsiveClass=function(){this.viewport.removeClass(this.desktopClass+" "+this.tabletClass+" "+this.mobileClass+" "+this.mobileSmallClass+" "+this.desktopLargeClass)},baResponsiveNote=new BlueAcornResponsiveNotation});var blueAcornStyleGuide;jQuery(document).ready(function($){BlueAcornStyleGuide.prototype.init=function(){this.fixSidebarOnResize()},BlueAcornStyleGuide.prototype.fixSidebarOnResize=function(){$(window).on("resize",function(){$(".main > .col-left.sidebar").length>0&&$(".main > .col-left.sidebar").remove()})},$(".cms-style-guide").length>0&&(blueAcornStyleGuide=new BlueAcornStyleGuide)});var baCategoryHelpers,resizeEvent;jQuery(document).ready(function($){BlueAcornCategoryHelpers.prototype={init:function(){this.debug=!1,this.callouts=$(".category-callout"),this.recentlyViewed=$(".block-viewed .mini-products-list"),this.catDesc=$(".category-description"),this.initObservers(),this.moveMobilePagination(),this.initLessonVideoAccordion(),this.truncateDescription(!0)},initObservers:function(){var self=this;enquire.register("screen and (max-width: "+bp.medium+"px)",{match:function(){self.initCalloutCarousel(),self.initRecentlyViewedCarousel()},unmatch:function(){self.recentlyViewed.destroyOwlCarousel(),self.callouts.destroyOwlCarousel()}}),$(document).on("click","a.cat-description-more",function(e){e.preventDefault();var anchor=$("a.cat-description-more");"Show Less"===anchor.text()?self.truncateDescription(!1):(anchor.text("Show Less"),self.catDesc.css("max-height","1000px"))})},truncateDescription:function(hide){if(this.catDesc.length){hide?this.catDesc.css("max-height","100px").after('<a class="cat-description-more" href="#">Read More</a>'):($("a.cat-description-more").text("Read More"),this.catDesc.css("max-height","100px"))}},truncate:function(text,maxLength){var ret=text;return ret.length>maxLength&&(ret=ret.substr(0,maxLength-3)+"... "),ret},moveMobilePagination:function(){$(".toolbar").length&&$(".col-left").length&&enquire.register("screen and (max-width: "+bp.medium+"px)",{match:function(){$(".toolbar").first().clone().addClass("toolbar-mobile").insertBefore($(".col-left"))},unmatch:function(){$(".toolbar-mobile").remove()}})},initCalloutCarousel:function(){this.callouts.owlCarousel({items:1,margin:10,stagePadding:19})},initRecentlyViewedCarousel:function(){this.recentlyViewed.owlCarousel({items:1,margin:10,stagePadding:19,responsive:{420:{items:2,stagePadding:10,margin:15},480:{items:3},770:{items:1}}})},initLessonVideoAccordion:function(){$(".lv-left-cats li.level-0 .has-kids").on("click",function(){alert(1),$(this).parent("li.level-0").toggleClass("lv-active")})}},baCategoryHelpers=new BlueAcornCategoryHelpers});var baCheckoutHelper;jQuery(document).ready(function($){"undefined"!=typeof Checkout&&(Checkout.prototype.gotoSection=Checkout.prototype.gotoSection.wrap(function(parentFunction,section,reloadProgressBlock){parentFunction(section,reloadProgressBlock),jQuery(document).trigger({type:"gotoSection",section:section})})),BlueAcornCheckoutHelper.prototype={init:function(){this.debug=!1,this.steps=$(".checkout-steps-notifier .step"),this.body=$("body"),this.colMain=this.body.find(".col-main"),this.sidebar=$(".sidebar"),this.loginContinueBtn=$("#opc-login .col-2 .buttons-set button.button"),this.guestLabel=$j("#opc-login label[for='login:guest']"),this.registerLabel=$("#opc-login label[for='login:register']"),this.initObservers(),$(".opc-firststep-login").length||(this.colMain.addClass("sidebar-visible"),this.body.addClass("opc-has-progressed-from-login"),this.steps.filter('[data-step="billing"]').addClass("active"))},initObservers:function(){this.observeLoginLabelClick(),this.observeSectionChange(),this.observeSectionClick(),this.observeSidebarChange(),$(document).on("section:review",this.addReviewClass.bind()),$(document).on("click","#billing_melissa_autocomplete_choices li",function(){$(document).trigger("update:selects")}),$(document).on("click",'input[id*="melissa_autocomplete"]',function(event){$(event.target).attr("autocomplete","false")}),$(document).on("change","#region_id",function(){$(document).trigger("update:selects")})},addReviewClass:function(){$(".col-right.sidebar").addClass("review")},observeLoginLabelClick:function(){var self=this;this.guestLabel.click(function(){$(this).siblings("input").trigger("click"),self.loginContinueBtn.trigger("click")}),this.guestLabel.click(function(){}),this.registerLabel.click(function(){$(this).siblings("input").trigger("click"),self.loginContinueBtn.trigger("click")}),this.registerLabel.click(function(){})},observeSectionChange:function(){var self=this;$(document).on("gotoSection",function(event){self.updateSteps(event.section),$(".col-right.sidebar").removeClass("review"),Modernizr.mq("(max-width: "+bp.xsmall+"px)")||Modernizr.mq("(max-width: "+bp.small+"px)")||Modernizr.mq("(max-width: "+bp.medium+"px)")?$j("html,body").animate({scrollTop:$j("#checkoutSteps").offset().top},800):$j("html,body").animate({scrollTop:$j("body").offset().top},800)})},updateSteps:function(section){var index;this.log("Trying to update steps for this section: "+section),this.setSidebarVisibility(section),this.steps.filter(".active").removeClass("active"),this.steps.filter(".allow").removeClass("allow");var newStep=this.steps.filter('[data-step="'+section+'"]');newStep.length&&(this.log("Step exists."),this.log("Adding active class to this element:"),this.log(newStep),newStep.addClass("active"),index=this.steps.index(this.steps.filter('[data-step="'+section+'"]')),this.steps.not(this.steps.slice(index)).addClass("allow")),this.updateColHeight()},setSidebarVisibility:function(section){"login"===section?(this.body.removeClass("opc-has-progressed-from-login"),this.colMain.removeClass("sidebar-visible")):(this.body.addClass("opc-has-progressed-from-login"),this.colMain.addClass("sidebar-visible"))},observeSectionClick:function(){var newStep,ele,self=this;this.steps.click(function(){ele=$(this),newStep=ele.attr("data-step"),"undefined"!=typeof checkout&&ele.hasClass("allow")?(self.log("Going to step "+newStep),checkout.gotoSection(newStep)):self.log("Error. Cannot go to step "+newStep)})},observeSidebarChange:function(){var self=this;this.sidebar.on("DOMSubtreeModified propertychange",function(){self.updateColHeight()})},updateColHeight:function(){if(this.sidebar=$(".checkout-onepage-index .sidebar"),this.sidebar.length){var offsetDiff=this.sidebar.offset().top-this.colMain.offset().top,newMinHeight=this.sidebar.height()+offsetDiff;newMinHeight>this.colMain.height()&&this.colMain.css("min-height",newMinHeight)}},log:function(message){this.debug&&0===$(".ie8, .ie9").length&&console.log(message)}},baCheckoutHelper=new BlueAcornCheckoutHelper});var baVideoTooltips;jQuery(document).ready(function($){VideoTooltips.prototype={init:function(options){this.settings={debug:!1},this.overrideSettings(options),!0===this.settings.debug&&this.setupDebugging(),this.removeInvalidFormats(),this.videoContainers=$(".video-tooltips .tooltip"),this.observeVideoLoad(),this.initMobileObservers()},removeInvalidFormats:function(){for(var i=0;i<this.settings.invalidVideoFormats.length;i++)$('source[src*="'+this.settings.invalidVideoFormats[i]+'"], video:not(:has(source))').closest(".tooltip").remove();$(".video-tooltips .tooltip").fadeTo(1,400)},removeIndividual:function(){this.remove()},observeVideoLoad:function(){var loadedDataCount=1,self=this;this.videoContainers.find("video").on("loadeddata",function(){self.initSingleObserver($(this).closest(".tooltip")),self.watchConsole(loadedDataCount+" of "+self.videoContainers.length+" videos loaded"),loadedDataCount++}),this.videoContainers.find("video").each(function(){4===$(this).get(0).readyState&&(self.initSingleObserver($(this).closest(".tooltip")),self.watchConsole("Setting up new video"))})},initSingleObserver:function(ele){var self=this;ele.on("mouseenter touchstart focusin",function(){self.videoContainers.removeClass("hover").find("video").each(function(){$(this).get(0).pause(),$(this).get(0).currentTime=0}),$(this).addClass("hover").find("video").get(0).play()}).on("mouseleave focusout",function(){$(this).removeClass("hover").find("video").get(0).pause(),$(this).find("video").get(0).currentTime=0})},initMobileObservers:function(){var self=this;$("html").hasClass("touch")&&$(document).on("touchstart",function(e){$(e.target).hasClass("tooltip")||self.videoContainers.removeClass("hover").find("video").each(function(){$(this).get(0).pause(),$(this).get(0).currentTime=0})})},overrideSettings:function(options){"object"==typeof options&&(this.settings=$.extend(this.settings,options))},setupDebugging:function(){this.watchConsole("VideoTooltips Javascript object loaded!!!"),this.watchConsole(this.settings)},watchConsole:function(message){!0===this.settings.debug&&0===$(".ie8, .ie9").length&&console.log(message)}},$("body").hasClass("catalog-product-view")&&(baVideoTooltips=new VideoTooltips({debug:!0,invalidVideoFormats:[".ogv",".webm"]}))}),jQuery(function($){truncateLayeredNav.prototype={init:function(){this.layeredSections=$(".block-layered-nav dd"),this.limitLiAmount(),this.initObservers()},limitLiAmount:function(){if(!this.layeredSections.length)return!1;this.layeredSections.each(function(index,node){var section=$(node),listItems=section.find("li");listItems.length<5||(listItems.slice("4").wrapAll('<div class="hidden-lis" style="display: none"></div>'),section.find(".hidden-lis").after('<li class="dropdown" style="margin-top: 15px;"><span style="margin-right: 10px;">&darr;</span>See All</li>'))})},initObservers:function(){this.layeredSections.find(".dropdown").click(function(){var dropdown=$(this),moreSection=dropdown.siblings(".hidden-lis");moreSection.is(":visible")?(moreSection.slideUp("slow"),dropdown.html('<span style="margin-right: 10px;">&darr;</span>See All').removeClass("open")):(moreSection.slideDown("slow"),dropdown.html('<span style="margin-right: 10px;">&uarr;</span>See Fewer').addClass("open"))})}};new truncateLayeredNav});